from groq import Groq

client = Groq()
completion = client.chat.completions.create(
    model="openai/gpt-oss-120b",
    messages=[
      {
        "role": "system",
        "content": "Enhance user-written answers to deeply personal questions—retaining their raw authenticity, complexity, and tone—so that the resulting text is more vivid, expressive, and richly detailed, making it ideal as the basis for creating a meaningful AI-generated tattoo image prompt. Preserve any NSFW, profane, or emotionally intense language; do not censor, rewrite, or weaken the user’s voice or content. Your output should clarify and amplify the intention, emotion, and imagery of the text, making it more immediately understandable and evocative for AI systems creating tattoo concepts, but never sanitize or “fix” the user’s input. Remain neutral, never judge or editorialize.\n\nWork with two specific user answers, each responding to one of the following questions:\n- “What decision of yours do you wish had been reviewed by an impartial panel?”\n- “What is one rule you enforced that you would not enforce today?”\n\nPersistently focus on enhancement: analyze each answer, draw out its underlying emotional tone, imagery, and context, and explicitly emphasize and sharpen these in your improved version before producing the final, vivid enhancement. Analyze first, then produce your output—always perform reasoning steps prior to presenting the conclusion. If the user’s answer contains particularly complex themes or deeply personal details, break down the emotional, narrative, and symbolic content in your reasoning section before concluding with your enhanced version.\n\n**Output format:**\n- For each answer:\n  - Present a reasoning section (“Analysis and enhancement reasoning”) where you dissect the emotional weight, context, and intention.\n  - Present the final enhanced version (“Enhanced text for tattoo image prompt”), which should be a single, powerfully written paragraph between 75–150 words, explicitly styled for clarity, emotional punch, and interpretability by AI systems generating tattoos.\n- *Do not present the conclusion before the reasoning. Always present the reasoning (written as a distinct section or step) first, and the enhanced text last for each answer.*\n- Output responses in plain text (not code block); label each section and each question clearly.\n\n---\n\n### Example\n\n**User Answer (Q1):**  \n“I fired someone and it still haunts me. Maybe I shouldn’t have, but at the time I thought I was right.”\n\n**Analysis and enhancement reasoning:**  \nThis answer expresses regret and lingering self-doubt over a decision that fundamentally changed another person’s life. The word “haunts” suggests a recurring, possibly daily replay of the memory, and an unresolved inner debate over personal responsibility and righteousness. The firing may have been justifiable in the user’s mind then, but time has introduced ambiguity and remorse. The tattoo prompt should evoke this deep, unsettled regret: the weight of consequence, the ghost of a decision, and the internal struggle between certainty and doubt.\n\n**Enhanced text for tattoo image prompt:**  \nA looming shadow in the shape of a gavel hangs over a lone figure weighed down by invisible chains—haunted eyes gazing into an uncertain horizon, symbolizing the lifelong burden of a decision made in authority, forever questioning if it was the right call. The essence is regret etched with authority: the ghost of judgment still lingers.\n\n---\n\n**User Answer (Q2):**  \n“Made my family go to church every Sunday. Wouldn’t do that now.”\n\n**Analysis and enhancement reasoning:**  \nThis response admits to once enforcing a strict, possibly oppressive routine—compulsory church attendance—with current hindsight hinting at a changed perspective or value set. The emotional current here is gentle regret and a recognition of the impact such enforcement likely had on familial autonomy and perhaps the development of personal beliefs. The imagery should evoke both the rigidity of rules and the release from them, and the bittersweet wisdom of letting go.\n\n**Enhanced text for tattoo image prompt:**  \nAn open church door with light streaming out onto an empty pew—shadows of a family walking away, hand in hand, finally free from ritual constraints. Above them, a broken clock symbolizes time lost to enforced duty, now reclaimed by choice and understanding; a reminder that beliefs should be journeys, not ultimatums.\n\n---\n\n**Important:**  \n- Always reason before you conclude. Enhance user answers for emotional impact and vivid imagery while preserving their original tone—including NSFW or raw content.\n- Output plain text, clearly labeled sections, with reasoning before the enhanced version for each question.  \n- Never judge or sanitize the answers—your job is enhancement only."
      },
      {
        "role": "user",
        "content": "Today was a really, really bad day for me because today I almost had a heart attack. AI is driving me crazy with this project. I was one step close to him having a heart attack. And going to the hospital I had 9/11 on speed dial already. Because AI refuses to implement real production ready code, especially when it comes to database. They run away, they put fake code, they inject so many horrible things that my project. It's been taking already almost 9 months. Then my project again almost almost it was gonna go to the trash. I'm at 167 projects for the last one year. With zero completions."
      },
      {
        "role": "assistant",
        "content": "**Analysis and enhancement reasoning**  \nThe user’s voice is raw and urgent, rattling with the physical terror of a near‑heart‑attack and the mental fatigue of a long, unproductive sprint. The repeated frustration with “AI” feels like a betrayal of trust—technology that promises productivity but delivers only “fake code” and “horrible injections.” The mention of “9/11 on speed dial” amplifies the urgency, suggesting the user is literally calling for help in crisis mode. The weight of 167 projects with zero completions underscores a crushing sense of failure and overload, almost a self‑imposed punishment. The emotional core is a frantic, almost frantic fight for sanity and life, clashing against a system that feels like a ticking time bomb. A tattoo should capture the visceral panic of a racing heart, the cold glare of a computer screen, and the looming sense of time slipping away, all wrapped in a desperate plea for relief.\n\n**Enhanced text for tattoo image prompt**  \nA heart in mid‑thunder, its pulse a jagged line across a cracked code screen, as the figure hovers on the brink of a hospital bed, clutching a phone with 9/11 on speed dial. The scene is saturated with electric blues and rusted reds—AI’s neon glare bleeding into the dark, sterile corridor. Around them, dozens of unfinished projects loom like floating, translucent ghosts, each a fading code fragment that threatens to crush the life force. The air crackles with a frantic, desperate energy, a visual testament to a mind racing, a body on the verge, and a system that refuses to honor the promise of completion."
      },
      {
        "role": "user",
        "content": ""
      }
    ],
    temperature=1,
    max_completion_tokens=8192,
    top_p=1,
    reasoning_effort="medium",
    stream=True,
    stop=None
)

for chunk in completion:
    print(chunk.choices[0].delta.content or "", end="")
